<app-profile-nav-mobile></app-profile-nav-mobile>

<div>
  <div class="page">
    <div class="settings-container">
      <h2>Your Settings</h2>

      <div *ngIf="current_primary" class="primary-box">
        <h3>Current Primary Language:</h3>
        <img class="primary-img" src="{{ current_primary.languages.flag_link }}" alt="" />
      </div>
      <h4>
        {{ message }}
      </h4>
      <!-- add target -->
      <div class="submit-box">
        <button
          class="small-btn2"
          *ngIf="!clicked_add_new && languages_list.length !== 0 && !clicked_change_target"
          (click)="showAddNew()"
        >
          Add New Language
        </button>
      </div>

      <div *ngIf="clicked_add_new" class="change-language-box">
        <label for="languages"> <h3>Add a target language:</h3> </label><br />

        <div class="flag-box" *ngFor="let language of languages_list">
          <img class="lang-flag-img" src="{{ language.flag_link }}" (click)="changeAddTarget(language.id)" alt="" />
        </div>
        <br />
        <div class="submit-box">
          <button class="small-btn" (click)="addTarget()">Submit Changes</button>
        </div>
      </div>

      <div class="submit-box">
        <button
          class="small-btn2"
          *ngIf="!clicked_change_target && languages.length !== 0 && !clicked_add_new"
          (click)="showChangeTarget()"
        >
          Change Target Language
        </button>
      </div>
      <!-- change target -->
      <div *ngIf="clicked_change_target" class="change-language-box">
        <label for="languages">Choose your target language : {{ chosen_language_name }}</label
        ><br />

        <div class="flag-box" *ngFor="let language of languages">
          <img
            class="lang-flag-img"
            (click)="changeNewPrimary(language)"
            src="{{ language.languages.flag_link }}"
            alt=""
          />
        </div>
        <br />
        <div class="submit-box">
          <button class="small-btn" (click)="changeTarget()">Submit Changes</button>
        </div>
      </div>
    </div>
  </div>
</div>
